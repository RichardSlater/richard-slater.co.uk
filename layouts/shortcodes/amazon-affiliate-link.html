{{ $resovedASIN := "MISSING" }}
{{ if isset .Params "asin" }}
    {{ $resovedASIN = .Params.asin }}
{{ else }}
    {{ $resovedASIN = $.Page.Params.asin }}
{{ end }}

<a href='http://www.amazon.co.uk/dp/{{ $resovedASIN }}/?tag={{ $.Page.Site.Params.amazonAffiliateLinks.UK }}'>{{ .Get "text" }}</a>